# Pedis (Parallel Redis)

**It's a new start for Pedis which will be constructed based on Scylla.**

## What's Pedis?

Pedis is the NoSQL data store using the SEASTAR framework, compatible with REDIS. The name of Pedis is an acronym of **P**arallel r**edis**, which with high throughput and low latency.

Redis is very popular *data structures* server. For more infomation, see here: http://redis.io/
Seastar is an advanced, open-source C++ framework for high-performance server applications on modern hardware.
For more infomation, see here: http://www.seastar-project.org/


Now, the redis commands were supported by Pedis as follow:
  * **KEY**: DEL, EXISTS, TTL, PTTL, EXPIRE, PEXPIRE
  * **STRING**: GET, SET, DECR, INCR, DECRBY, INCRBY, APPEND, STRLEN, MGET, MSET
  * **LIST**: LINDEX, LINSERT, LLEN, LPUSH, LPUSHX, LPOP, LRANGE, LREM, LTRIM, LSET, RPOP, RPUSH, RPUSHX
  * **HASH**: HSET, HDEL, HGET, HLEN, HSTRLEN, HMSET, HMGET, HKEYS, HVALS, HEXISTS, HINCRBY
  * **SET**: SADD, SMEMBERS, SISMEMBER, SREM, SDIFF, SDIFFSTORE, SINTER, SINTERSTORE, SUNION, SUNIONSTORE, SMOVE, SPOP
  * **SORTED SET**: ZADD, ZCARD, ZCOUNT, ZINCRBY, ZRANGE, ZRANK, ZREM, ZREMRANGEBYSCORE, ZREMRANGEBYRANK, ZREVRANGE, ZREVRANGEBYSCORE, ZREVRANK, ZSCORE, ZUNIONSTORE, ZINTERSTORE
  * **GEO**: GEOADD, GEOPOS, GEOHASH, GEODIST, GEORADIUS, GEORADIUSMEMBER
  * **HyperLogLog**: PFADD, PFCOUNT, PFMERGE
  * **OTHER**: ECHO, PING, SELECT

## Building Pedis

In fact, the building instructions of Seastar also works for Pedis.

See building instructions for [Fedora](docs/building-fedora.md), [CentOS](docs/building-centos.md) and [Ubuntu](docs/building-ubuntu.md).

## Getting started

```
./build/release/pedis --c 1 -m 1G

```

## Current Roadmap

We will build the next generation of redis cluster.

### Short-term

* Implement the redis commands.
* Output the necessary metrics.

### Long-term

* Build the redis cluster, using GOSSIP protocol to broadcast redis node's status.
* Build the data replication mechanism between redis cluster.
* Persist the data to disk based on Structured-logs-merged tree.

## Benchmark

The following describe the details of the Pedis benchmark making it reproducible.
The result data was generated by memtier_benchmark(https://github.com/RedisLabs/memtier_benchmark).

Latest Results(Sep. 2016)

![](https://github.com/fastio/pedis/blob/master/docs/benchmark.png)

Pedis's latency was less then 0.5ms for 99% of all requests.

Test bed:

* Server 1: Pedis/Redis Server
* Server 2: memtier_benchmark tool

Software:

* OS RedHat EL7
* Pedis (latest)
* Redis (2.8)

Hardware:

* Memory: 128GB
* SSD: 500GB
* CPU: 24 logical cores 
* NIC: 1000Mb 
